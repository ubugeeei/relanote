<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">
  <defs>
    <linearGradient id="envFill" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.3"/>
      <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:0.1"/>
    </linearGradient>
  </defs>

  <style>
    .bg { fill: #ffffff; }
    .title { font: bold 16px sans-serif; fill: #1f2937; }
    .label { font: 12px sans-serif; fill: #6b7280; }
    .value { font: 11px sans-serif; fill: #f59e0b; }
    .axis { stroke: #e5e7eb; stroke-width: 1; }
    .grid { stroke: #f3f4f6; stroke-width: 1; stroke-dasharray: 4; }
    .graph-bg { fill: #fafafa; stroke: #e5e7eb; }

    @media (prefers-color-scheme: dark) {
      .bg { fill: #1f2937; }
      .title { fill: #f3f4f6; }
      .label { fill: #9ca3af; }
      .axis { stroke: #4b5563; }
      .grid { stroke: #374151; }
      .graph-bg { fill: #111827; stroke: #4b5563; }
    }
  </style>

  <!-- Background -->
  <rect width="600" height="300" class="bg"/>

  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" class="title">ADSR Envelope</text>

  <!-- Graph background -->
  <rect x="60" y="50" width="500" height="180" class="graph-bg" rx="4"/>

  <!-- Grid lines -->
  <line x1="60" y1="95" x2="560" y2="95" class="grid"/>
  <line x1="60" y1="140" x2="560" y2="140" class="grid"/>
  <line x1="60" y1="185" x2="560" y2="185" class="grid"/>

  <!-- Axes -->
  <line x1="60" y1="230" x2="560" y2="230" class="axis" stroke="#9ca3af"/>
  <line x1="60" y1="50" x2="60" y2="230" class="axis" stroke="#9ca3af"/>

  <!-- Axis labels -->
  <text x="560" y="250" text-anchor="end" class="label">Time</text>
  <text x="45" y="55" text-anchor="end" class="label">Vol</text>

  <!-- ADSR curve with fill -->
  <path d="M 60,230
           L 120,70
           L 200,130
           L 400,130
           L 500,230
           L 60,230 Z"
        fill="url(#envFill)"/>

  <!-- ADSR curve stroke -->
  <path d="M 60,230
           L 120,70
           L 200,130
           L 400,130
           L 500,230"
        stroke="#f59e0b" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

  <!-- Peak point -->
  <circle cx="120" cy="70" r="5" fill="#f59e0b"/>
  <text x="120" y="55" text-anchor="middle" class="value">Peak</text>

  <!-- Sustain level -->
  <line x1="200" y1="130" x2="400" y2="130" stroke="#f59e0b" stroke-width="3" stroke-dasharray="6"/>

  <!-- Phase markers -->
  <!-- Attack -->
  <line x1="60" y1="240" x2="120" y2="240" stroke="#3b82f6" stroke-width="3"/>
  <text x="90" y="260" text-anchor="middle" class="label" fill="#3b82f6">Attack</text>

  <!-- Decay -->
  <line x1="120" y1="240" x2="200" y2="240" stroke="#10b981" stroke-width="3"/>
  <text x="160" y="260" text-anchor="middle" class="label" fill="#10b981">Decay</text>

  <!-- Sustain -->
  <line x1="200" y1="240" x2="400" y2="240" stroke="#8b5cf6" stroke-width="3"/>
  <text x="300" y="260" text-anchor="middle" class="label" fill="#8b5cf6">Sustain</text>
  <text x="420" y="125" text-anchor="start" class="label" fill="#8b5cf6">(level)</text>

  <!-- Release -->
  <line x1="400" y1="240" x2="500" y2="240" stroke="#ef4444" stroke-width="3"/>
  <text x="450" y="260" text-anchor="middle" class="label" fill="#ef4444">Release</text>

  <!-- Key pressed/released markers -->
  <line x1="60" y1="50" x2="60" y2="270" stroke="#22c55e" stroke-width="1" stroke-dasharray="4"/>
  <text x="60" y="285" text-anchor="middle" class="label" fill="#22c55e">Key On</text>

  <line x1="400" y1="50" x2="400" y2="270" stroke="#ef4444" stroke-width="1" stroke-dasharray="4"/>
  <text x="400" y="285" text-anchor="middle" class="label" fill="#ef4444">Key Off</text>
</svg>